const c="http://localhost:3000/api";class h{async fetch(t,r){const e=await fetch(`${c}${t}`,{headers:{"Content-Type":"application/json",...r==null?void 0:r.headers},...r});if(!e.ok){const a=await e.json().catch(()=>({error:"Network error"}));throw new Error(a.error||`HTTP ${e.status}`)}return e.json()}async getCharacters(){return this.fetch("/characters")}async getCharacter(t){return this.fetch(`/characters/${t}`)}async createCharacter(t){return this.fetch("/characters",{method:"POST",body:JSON.stringify(t)})}async performAttack(t,r){return this.fetch(`/characters/${t}/attack/${r}`,{method:"POST"})}async healCharacter(t,r){return this.fetch(`/characters/${t}/heal`,{method:"POST",body:JSON.stringify({healAmount:r})})}async rollInitiative(t){return this.fetch(`/characters/${t}/initiative`,{method:"POST"})}async getCharacterClasses(){return this.fetch("/character-classes")}async getHealth(){return this.fetch("/health")}}const n=new h;export{n as a};
